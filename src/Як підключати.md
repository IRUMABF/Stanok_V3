# Як підключати компоненти до RAMPS 1.4

## 1. Загальні рекомендації

- **RAMPS 1.4** встановлюється на Arduino Mega 2560.
- Для підключення пневмоклапанів, моторів, датчиків та кнопок використовуйте якісні дроти з відповідним перерізом.
- Для живлення пневмоклапанів та моторів використовуйте окремий блок живлення 12/24В (залежно від ваших компонентів).
- Для підключення індикаторних світлодіодів використовуйте резистори 220–470 Ом.

---

## 2. Підключення пневмоклапанів

**Пневмоклапани підключаються до MOSFET-виходів RAMPS 1.4 через роз'єми D8–D13, а також через додаткові MOSFETи, якщо потрібно більше каналів.**

| Функція                      | Розподілювач | Пін на RAMPS | Підключення до RAMPS |
|------------------------------|--------------|--------------|----------------------|
| Видача спайок                | №1           | D17          | AUX-4                |
| Кран резервуару фарби        | №2           | D23          | AUX-4                |
| Поршень фарби                | №3           | D16          | AUX-4                |
| Завертання кришок            | №4           | D9           | D9 (FAN)             |
| Закривання кришок            | №5           | D8           | D8 (HEATER 2)        |
| Зсування спайки              | №6           | D25          | AUX-4                |
| Платформа з присосками       | №7           | D27          | AUX-4                |
| Опускання платформи          | №8           | D29          | AUX-4                |
| Засування спайок в пакет     | №9           | D31          | AUX-4                |
| Утримання спайок/пакета      | №10          | D33          | AUX-4                |
| Рух сопла                    | №11          | D35          | AUX-4                |
| Силіконова планка            | №12          | D37          | AUX-4                |
| Скидання пакету              | №13          | D39          | AUX-4                |
| Охолодження ленти            | №14          | D41          | AUX-4                |

---

## 3. Підключення крокових моторів

- **X/Y/Z** мотори підключаються до стандартних роз'ємів X, Y, Z на RAMPS.
- Не забудьте встановити драйвери (A4988/DRV8825) та налаштувати струм.

| Мотор         | STEP | DIR | ENABLE | Роз'єм на RAMPS |
|---------------|------|-----|--------|-----------------|
| X (конвеєр)   | 54   | 55  | 38     | X               |
| Y (конвеєр)   | 60   | 61  | 56     | Y               |
| Z (2-й конвеєр)| 46  | 48  | 62     | Z               |

---

## 4. Підключення кінцевих вимикачів (датчиків)

- **sensor_1** (Y_MIN, D14): під соплом розливу фарби
- **sensor_2** (Y_MAX, D15): під пресом закривання кришки
- **sensor_3** (X_MAX, D2): готовність до здвигання

**Підключення:**  
- Сигнальний пін — до відповідного входу на RAMPS (Y_MIN, Y_MAX, X_MAX)
- GND — до GND на RAMPS
- VCC — до +5V на RAMPS

---

## 5. Підключення кнопок керування

| Кнопка/Світлодіод         | Пін на RAMPS | Призначення                | Підключення           | Розташування на платі RAMPS      |
|---------------------------|--------------|----------------------------|-----------------------|------------------------|
| start_PIN                 | D18 (Z_MIN)  | Старт                      | S, GND                | Роз’єм Z_MIN           |
| stop_PIN                  | D19 (Z_MAX)  | Стоп                       | S, GND                | Роз’єм Z_MAX           |
| modeButtonPin             | D68 (A14)    | Перемикач режиму           | S, GND                | T1 (роз’єм термістора) |
| singleblockButtonPin      | D66 (A13)    | Одиночний блок             | S, GND                | T0 (роз’єм термістора) |
| ledMode0Pin               | D20          | LED режим 0                | через резистор до GND | розєм де пише I2C      |
| ledMode1Pin               | D21          | LED режим 1                | через резистор до GND | розєм де пише I2C      |

---

## 6. Вакуумний клапан

- **vacuumValvePin1** — D57 (A3)
- **vacuumValvePin2** — D58 (A4)

**Підключення:**  
- IN1 клапана — до D57  
- IN2 клапана — до D58  
- GND клапана — до GND RAMPS  
- VCC клапана — до +5V

**Розташування на платі:**  
Піни D57 (A3) та D58 (A4) виведені на другий ряд роз’єму **AUX1** на платі RAMPS 1.4.  
Дивіться розташування на схемі:  
- [RAMPS 1.4 pinout (reprap.org)](https://reprap.org/wiki/File:Arduinomega1-4connectors.png)  

---

## 7. Нагрівач сопла

- **heaterPin** — D11  

**Особливість:**  
До цього виходу підключається модуль реле, через який керується потужний ШІМ-регулятор нагрівача.  
На вихід реле підключіть два дроти, які раніше використовувалися для ручного вмикання/вимикання шим регулятора.

**Розташування на платі:**  
Роз’єм з піном (D11) знаходиться у першому зліва стовпчику роз’єму **servos** на платі RAMPS 1.4 .

---

## 8. Додаткові MOSFETи

- MOSFET_1_PIN — D43 (роз’єм AUX4)
- MOSFET_2_PIN — D45 (роз’єм AUX4)
- MOSFET_3_PIN — D47 (роз’єм AUX4)
- MOSFET_4_PIN — D32 (роз’єм AUX4)

**Використовуйте для додаткових навантажень, якщо потрібно.**

---

## 9. Схеми та ілюстрації

- [RAMPS 1.4 pinout (reprap.org)](https://reprap.org/wiki/File:Arduinomega1-4connectors.png)
- [MOSFET module](https://www.mini-tech.com.ua/8-kanalniy-mosfet-modul-mt)
- [Датчик перешкоди KY-032](https://i0.wp.com/electronicsworkshops.com/wp-content/uploads/2024/09/Screenshot-2024-09-04-210539.png?resize=706%2C535&ssl=1)

---