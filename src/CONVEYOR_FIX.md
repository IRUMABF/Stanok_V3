# Виправлення помилок з конвеєром

## Проблема
В коді використовувалися неіснуючі методи класу `Conveyor`:
- `moveDistance()` - не існує
- `enable()` - не існує  
- `disable()` - не існує

## Доступні методи класу Conveyor

### Основні методи:
- `begin()` - ініціалізація пінів та початкових станів
- `start()` - запуск постійного руху конвеєра
- `stop()` - негайна зупинка конвеєра
- `stopWithDociag(float mm)` - зупинка з дотягуванням на вказану відстань
- `update()` - оновлення стану (генерація імпульсів)
- `isRunning()` - перевірка чи конвеєр рухається
- `isDociagActive()` - перевірка чи активне дотягування

### Допоміжні методи:
- `setDirection(bool xDir, bool yDir)` - встановлення напрямку моторів

## Виправлення

### 1. Заміна `conveyor.enable()` на `conveyor.start()`
- **Було**: `conveyor.enable()` - запуск конвеєра
- **Стало**: `conveyor.start()` - запуск постійного руху

### 2. Заміна `conveyor.disable()` на `conveyor.stop()`
- **Було**: `conveyor.disable()` - зупинка конвеєра
- **Стало**: `conveyor.stop()` - негайна зупинка

### 3. Заміна `conveyor.moveDistance()` на `conveyor.stopWithDociag()`
- **Було**: `conveyor.moveDistance(JAR_CENTERING_MM)` - просування на відстань
- **Стало**: `conveyor.stopWithDociag(JAR_CENTERING_MM)` - зупинка з дотягуванням

## Нова логіка роботи

### Датчик 1 (розлив фарби):
1. Викликається `conveyor.stopWithDociag(JAR_CENTERING_MM)`
2. Конвеєр продовжує рух ще на `JAR_CENTERING_MM` мм
3. Після завершення дотягування автоматично запускається цикл розливу
4. Логіка контролюється через `waitingForSensor1` та `conveyor.isRunning()`

### Датчики 2 та 3:
1. Викликається `conveyor.stop()` - негайна зупинка
2. Запускається відповідний цикл операцій
3. Після завершення циклу конвеєр запускається через `conveyor.start()`

## Переваги нового підходу

1. **Коректне використання API** - використовуються тільки існуючі методи
2. **Автоматичне дотягування** - конвеєр сам контролює проїзд точної відстані
3. **Плавна зупинка** - дотягування забезпечує точне позиціонування
4. **Надійність** - конвеєр сам контролює свій стан через `update()`

## Приклад використання

```cpp
// Запуск конвеєра
conveyor.start();

// Зупинка з дотягуванням на 8 мм
conveyor.stopWithDociag(8.0);

// Негайна зупинка
conveyor.stop();

// Перевірка стану
if (conveyor.isRunning()) {
    // Конвеєр рухається
}

// Оновлення (викликається в loop)
conveyor.update();
```

## Важливі зауваження

1. **Метод `update()`** повинен викликатися в `loop()` для генерації імпульсів
2. **Дотягування** автоматично завершується, не потрібно додаткового контролю
3. **Стан конвеєра** контролюється через `isRunning()` та `isDociagActive()`
4. **Всі операції** без `delay()`, використовується `millis()` та `micros()`
